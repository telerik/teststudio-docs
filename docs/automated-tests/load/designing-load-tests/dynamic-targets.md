---
title: Dynamic Targets
page_title: Dynamic Targets
description: "Dynamic Target in Test Studio load test is a unique parameter or variable used by the application to generate information like a unique user ID or session ID. Configure the dynamic parameters in load test user profile. parameterize load test in test studio. dynamic values in load test. dynamic headers dynamic cookies dynamic "
position: 3
---
# Dynamic Targets

A Dynamic Target is a unique parameter or variable used by the application to generate information like a unique user ID or session ID. These values are generated by the web server and sent to the browser, which then later returns that value back to the server, so that the application can match the new request to a previous HTTP transaction. To accurately simulate users via virtual users, it is important to correctly return these Dynamic Targets during the load test execution.

> __Note!__
> Dynamic targets are also used to <a href="/automated-tests/load/advanced-topics/data-driving" target="_blank">data drive the load test profile</a>. 

## Auto-detected Dynamic Targets

If Test Studio detected any possible Dynamic Targets in the HTTP traffic, a list of those targets will appear after you capture a user profile. In this screen, you can select which Dynamic Targets the load test should use while running the test by checking the box next to the name of the Dynamic Target.

![Dynamic targets][1]

In most situations, you should select all dynamic targets, unless you have a specific reason to deselect a particular dynamic target.

### Properties

Each dynamic target lists four properties:

- **Target**: The name of the parameter or variable from the original URL.
- **From**: The step number of the response in which the target was detected.
- **To**: The step number of the request in which the target will be used.
- **Original Context**: The portion of the response URL containing the target.

### Example Scenario: Session IDs

A typical situation using dynamic targets is load testing an application that provides a unique session ID for each user. In this scenario, the session ID dynamic target may appear in the Dynamic Targets view.

![Session id][2]

The step whose number appears in the From column will include the dynamic target in its response. Here, it appears in the headers.

![Response][3]

The step whose number appears in the To column will include the dynamic target in its request. A special section appears in the Request tab indicating that this response is bound to a dynamic target.

![Request][4]

## Custom Dynamic Targets

Based on the HTTP traffic there might be targets which are not detected by Test Studio as dynamic but still these will be required to accomplish meaningful scenario. Or any of the auto-detected dynamic targets is not listed for transfer to a desired request. To handle such scenarios Test Studio implemented the ability to add __Custom Dynamic Targets__.

* [Add Custom Dynamic Target](#add-custom-dynamic-target)
* [Source Section Properties](#source-section-properties)
* [Search Options In Source Step Respponse](#search-options)
* [Destination Section Properties](#destination-section-properties)
* [Append Custom Text to Dynamic Value](#append-custom-text-to-dynamic-value)
* [Important Notes](#important-notes)

### Add Custom Dynamic Target

The Custom Dynamic Targets are available in the _Choose Dynamic Targets_ view where all auto-detected are listed as well - once a <a href="/features/testing-types/load-testing/capturing-traffic" target="_blank">user profile is captured</a> or opened <a href="/features/testing-types/load-testing/modifying-tests" target="_blank">to be modified</a> click the ___Choose Dynamic Targets___ button. 

![Choose Dynamic Targets][5]

Once any custom targets are added to the user profile these will be displayed under the list with all auto-detected dynamic targets. To add a custom dynamic target use the ___Add Dynamic Target___ button. 

![Add Dynamic Targets][6]

__See Also:__ A sample scenario to cover with the help of custom dynamic targets is described in our blog post <a href="https://www.telerik.com/blogs/custom-dynamic-targets-in-load-tests" target="_blank">__Custom Dynamic Targets in Load Tests__</a>.

### Source Section Properties

- **Step**: Step to take the target from. Any step which contains a HTTP request can be selected. The Think time steps are filtered out and not displayed in the dropdown.
- **Response**: Which part of the HTTP response to be used - Body, Headers or Cookie. Select the necessary part of the HTTP response and verify its content.
- **Content**: Displays the content of the selected response part.
- **Search Type**: The type of search to be used in the content of the selected response - FullText, Regex, JSON, XML. Select any of the provided options to search for the necessary value from the response.
- **Starts after/before|Regex|JSON path|XPath**: Provide the search query to locate the desired value in the response.
- **Search Result**: Click to show the result based on the search query.
- **Current Value**: Display the current result based on the search query.

<table id="no-table">
	<tr>
		<td>__Source Body__<br>![Source Section Properties][7]</td>
		<td>__Source Headers__<br>![Source Section Properties][8]</td>
    </tr>
    <tr>
        <td>__Source Cookie__<br>![Source Section Properties][9]</td>
	</tr>
<table>

### Search Options

- ___FullText___ - use strings which surround the desired value to locate it in response. 

__Example:__ The head section of a HTTP response's body is:

````
<html>
<head><title>Example ASP Scripts</title></head>
````

To get the actual title you may use __Starts after:__ \<title\> and __Ends before:__ \</title\>

- ___Regex___ - use <a href="https://docs.microsoft.com/en-us/dotnet/standard/base-types/regular-expression-language-quick-reference" target="_blank">regular expression</a> to locate the desired value in response body, header or cookie.

> __Note!__ Test Studio uses __\<val\>__ to express the first match in response!

__Example:__ The cookie of a HTTP response is the following string and the requirement is to get the domain name value only:

````
_EDGE_S=SID=04D5974D8509631807D39B2484BF62E4; path=/; httponly; domain=bing.com
````

The only possible approach is to use the partial search using Regex. The standard regex for extracting the desired value looks like this:

````
domain=(.*?)$
````

This returns the following match information:

````
Full match	65-80	`domain=bing.com`
Group 1.	72-80	`bing.com`
````

Using that standard regular expression in Test Studio will return the _Full match_ instead the value in _Group 1_. Therefore Test Studio uses \<val\> to express the first match group and the regular expression becomes:

````
domain=(?<val>.*?)$
````

- ___JSON___ - use <a href="http://goessner.net/articles/JsonPath/index.html#e3" target="_blank">JSONPath</a> to locate the desired value in response.

- __\__XML___ - use <a href="https://msdn.microsoft.com/en-us/library/ms256122(v=vs.110).aspx" target="_blank">XPath</a> to locate the desired value in response.

### Destination Section Properties

- **Step**: Step to pass the target to. Any step, that follows the selected one for source and contains a HTTP request, could be selected for destination step. The Think time steps are filtered out and not displayed in the dropdown.
- **Field Type**: In which part of the HTTP request to include the dynamic value - Query Paramater, Header, Cookie, POST data, URL.
- **Field Name**: The name of the dynamic target which will be used in the HTTP request - particular query parameter, header, or cookie.

![Destination Section Properties][10]

### Append Custom Text to Dynamic Value

In some cases the dynamic parameter is built by a value from any previous HTTP response and a predefined static text - an example of such implementation could be an authorization header for some applications. The expected header in this occasion consists of **predefined and known text, which either precedes and/or follows** the dynamic part, and the dynamic value extracted from a previous response.

In Test Studio load module you can create such dynamic target using the available append options allowed in the Destination section's **Field Name** text box. All of these use the following template, where ___Prefix and Suffix are optional___:

````
Query Parameter, Cookie, Header
'ParamName:Prefix{value}Suffix'

URL
'Prefix{value}Suffix'
````

> __Note!__ Keep in mind that **blank spaces in the *Field Name* text box are considered valid character** and thus are included in the final string. Therefore, leave intervals in the text only if these are expected.

- **Query Parameter** - list the name of the query parameter as it will be listed in the URL, the predefined text and set the value extracted from the source step in curly brackets.
	* __Ex.:__ source:search-for-{value} - if the extracted value is _test_, the query parameter will be appended as _source=search-for-test_.
	* __Ex.:__ source:{value}searching - if the extracted value is _test_, the query parameter will be appended as _source=testsearching_.
- **Header** - list the name of the header to replace followed by colon (:), the predefined text and set the value extracted from the source step in curly brackets.
	* __Ex.:__ Authorization:TOKEN-{value} - if the extracted value is _test_, the Authorization header will be appended as _TOKEN-test_.
	* __Ex.:__ Authorization:{value} AuthToken - if the extracted value is _test_, the Authorization header will be appended as _test AuthToken_.
- **Cookie** - list the name of the cookie to replace followed by colon (:), the predefined text and set the value extracted from the source step in curly brackets.
	* __Ex.:__ SessionID:currSession-{value} - if the extracted value is _test_, the SessionID cookie will be appended as _currSession-test_.
	* __Ex.:__ SessionID:currSession-{value} SID - if the extracted value is _test_, the SessionID cookie will be appended as _currSession-test SID_.
- **URL** - list the redirect URL as it need to be sent to the server, the predefined text and set the value extracted from the source step in curly brackets.
	* __Ex.:__ http://google.com/{value} - if the extracted value is _test_, the URL will be appended as _http://google.com/test_.
	* __Ex.:__ http://google.com/{value}/id=1379 - if the extracted value is _test_, the URL will be appended as _http://google.com/test/id=1379_.

<table id="no-table">
	<tr>
		<td>__Append Query Parameter__<br>![Append Query Parameter][11]</td>
		<td>__Append Header__<br>![Append Header][12]</td>
    </tr>
    <tr>
        <td>__Append Cookie__<br>![Append Cookie][13]</td>
		<td>__Append URL__<br>![Append URL][14]</td>
	</tr>
<table>

> __Note!__ The above examples only represent how to append some predefined text before or after the dynamic value for the different types of destination fields. These are no real example of working HTTP calls.

### Important Notes

> __Note!__ The custom dynamic value will be added to the destination HTTP request even if there is no such parameter, cookie or header existing in the recorded request.
<br>
> __Note!__ If there are both autodetected and custom dynamic values for a single destination step, the last set target will be used in the request. Disable/Enable of a dynamic target will update the order of set targets.
<br>
> __Note!__ As of now there is no visual representation for any custom dynamic targets within the __Edit User Profile__ view. To verify if the HTTP requests are built as you expect you could use <a href="https://www.telerik.com/fiddler" target="_blank">Fiddler</a> to capture the traffic of a sample load test execution and inspect these.

[1]: /img/features/testing-types/load-testing/dynamic-targets/fig1.png
[2]: /img/features/testing-types/load-testing/dynamic-targets/fig2.png
[3]: /img/features/testing-types/load-testing/dynamic-targets/fig3.png
[4]: /img/features/testing-types/load-testing/dynamic-targets/fig4.png
[5]: /img/features/testing-types/load-testing/dynamic-targets/fig5.png
[6]: /img/features/testing-types/load-testing/dynamic-targets/fig6.png
[7]: /img/features/testing-types/load-testing/dynamic-targets/fig7.png
[8]: /img/features/testing-types/load-testing/dynamic-targets/fig7a.png
[9]: /img/features/testing-types/load-testing/dynamic-targets/fig7b.png
[10]: /img/features/testing-types/load-testing/dynamic-targets/fig8.png
[11]: /img/features/testing-types/load-testing/dynamic-targets/fig11.png
[12]: /img/features/testing-types/load-testing/dynamic-targets/fig12.png
[13]: /img/features/testing-types/load-testing/dynamic-targets/fig13.png
[14]: /img/features/testing-types/load-testing/dynamic-targets/fig14.png
